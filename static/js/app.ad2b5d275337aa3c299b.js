webpackJsonp([0],[,,,,,function(e,t,a){"use strict";t.a={name:"app"}},function(e,t,a){"use strict";t.a={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js PWA"}}}},function(e,t,a){"use strict";(function(e){var n=a(8);t.a={components:{PulseLoader:n.a},name:"hello1",data:function(){return{video:{},canvas:{},captures:[],videoflg:!0,canvasflg:!1,emotionArr:[],count:0,emotion_kana:["怒り顔","侮辱顔","嫌悪の顔","怖がった顔","幸せ顔","無表情","悲しい顔","驚いた顔"],emotion:["anger","contempt","disgust","fear","happiness","neutral","sadness","surprise"],rand:0,emotionNumArr:[]}},mounted:function(){this.$data.rand=Math.floor(8*Math.random()),this.video=this.$refs.video;var e={audio:!1,video:!0};navigator.getUserMedia(e,this.successCallback,this.errorCallback)},methods:{successCallback:function(e){this.video.srcObject=e},errorCallback:function(e){alert(e)},makeblobdata:function(e){var t,a,n,i;if(-1===e.indexOf(";base64,"))return t=e.split(","),a=t[0].split(":")[1],n=decodeURIComponent(t[1]),new Blob([n],{type:a});t=e.split(";base64,"),a=t[0].split(":")[1],n=window.atob(t[1]),i=n.length;for(var s=new Uint8Array(i),o=0;o<i;++o)s[o]=n.charCodeAt(o);return new Blob([s],{type:a})},capture:function(){if(this.$data.count>5)return void this.result();this.canvas=this.$refs.canvas;var t=this.video.offsetWidth,a=this.video.offsetHeight;this.canvas.setAttribute("width",t),this.canvas.setAttribute("height",a),this.$data.canvasflg=!0,this.canvas.getContext("2d").drawImage(this.video,0,0,t,a),this.$data.videoflg=!1,this.captures.push(this.canvas.toDataURL("image/png"));var n={};console.log(this.makeblobdata(this.canvas.toDataURL()));var i=this;e.ajax({url:"https://westus.api.cognitive.microsoft.com/emotion/v1.0/recognize?"+e.param(n),beforeSend:function(e){e.setRequestHeader("Content-Type","application/octet-stream"),e.setRequestHeader("Ocp-Apim-Subscription-Key","4dfe28f1041d48e1a36f469e67ec93d6")},type:"POST",data:this.makeblobdata(this.canvas.toDataURL()),processData:!1}).done(function(e){i.$data.count=i.$data.count+1,console.log(e),i.$data.emotionArr.push(e[0].scores),i.$data.emotionNumArr.push(i.$data.rand),i.$data.canvasflg=!1,i.$data.videoflg=!0,i.$data.rand=Math.floor(8*Math.random())}).fail(function(e){alert("Please try again"),console.log(e),i.$data.canvasflg=!1,i.$data.videoflg=!0})},result:function(){alert("終了")},retry:function(){this.$data.count=0,this.$data.captures=[],this.$data.emotionNumArr=[],this.$data.emotionArr=[],this.$data.videoflg=!0,this.$data.canvasflg=!1,this.$data.rand=Math.floor(8*Math.random())}}}}).call(t,a(24))},function(e,t,a){"use strict";function n(e){a(25)}var i=a(9),s=a(26),o=a(0),r=n,c=o(i.a,s.a,!1,r,null,null);t.a=c.exports},function(e,t,a){"use strict";t.a={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}}},function(e,t,a){"use strict";t.a={name:"camera",data:function(){return{video:{},canvas:{},captures:[]}},mounted:function(){var e=this;this.video=this.$refs.video,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(t){e.video.src=window.URL.createObjectURL(t),e.video.play()})},methods:{capture:function(){alert(navigator.platform),this.canvas=this.$refs.canvas;var e=this.video.offsetWidth,t=this.video.offsetHeight;this.canvas.getContext("2d").drawImage(this.video,0,0,e,t),this.captures.push(this.canvas.toDataURL("image/png"))}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),i=a(13),s=a(17),o=a(31),r=(a.n(o),a(32)),c=(a.n(r),a(33)),l=a.n(c),u=a(8);a(35);n.a.use(l.a),n.a.use(u.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:s.a,template:"<App/>",components:{App:i.a}})},,function(e,t,a){"use strict";function n(e){a(14)}var i=a(5),s=a(16),o=a(0),r=n,c=o(i.a,s.a,!1,r,null,null);t.a=c.exports},function(e,t){},,function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e._m(0),e._v(" "),a("main",[a("router-view")],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("span",[e._v("Camera App")])])}],s={render:n,staticRenderFns:i};t.a=s},function(e,t,a){"use strict";var n=a(3),i=a(18),s=a(19),o=a(22),r=a(28);n.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"Hello",component:s.a},{path:"/1",name:"Hello1",component:o.a},{path:"/2",name:"Camera",compomemt:r.a}]})},,function(e,t,a){"use strict";function n(e){a(20)}var i=a(6),s=a(21),o=a(0),r=n,c=o(i.a,s.a,!1,r,null,null);t.a=c.exports},function(e,t){},function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),a("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),e._v(" "),a("li",[a("a",{attrs:{href:"http://chat.vuejs.org/",target:"_blank",rel:"noopener"}},[e._v("Vue Community Chat")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank",rel:"noopener"}},[e._v("Docs for This Template")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),e._v(" "),a("li",[a("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],s={render:n,staticRenderFns:i};t.a=s},function(e,t,a){"use strict";function n(e){a(23)}var i=a(7),s=a(27),o=a(0),r=n,c=o(i.a,s.a,!1,r,null,null);t.a=c.exports},function(e,t){},,function(e,t){},function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"v-spinner"},[a("div",{staticClass:"v-pulse v-pulse1",style:[e.spinnerStyle,e.spinnerDelay1]}),a("div",{staticClass:"v-pulse v-pulse2",style:[e.spinnerStyle,e.spinnerDelay2]}),a("div",{staticClass:"v-pulse v-pulse3",style:[e.spinnerStyle,e.spinnerDelay3]})])},i=[],s={render:n,staticRenderFns:i};t.a=s},function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-ons-page",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.count<3,expression:"count < 3"}],staticClass:"hello"},[a("h2",[e._v("EmoScore Bata")]),e._v(" "),a("v-ons-row",[a("v-ons-col",{attrs:{"vertical-align":"center"}},[a("video",{directives:[{name:"show",rawName:"v-show",value:e.videoflg,expression:"videoflg"}],ref:"video",attrs:{width:"80%",autoplay:"",playsinline:""}}),e._v(" "),a("canvas",{directives:[{name:"show",rawName:"v-show",value:e.canvasflg,expression:"canvasflg"}],ref:"canvas",attrs:{id:"canvas"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.canvasflg,expression:"canvasflg"}],staticClass:"load"},[a("pulse-loader",{attrs:{loading:"loading",color:"#90ee90",size:"40px"}})],1)])],1),e._v(" "),a("v-ons-row",[a("v-ons-col",{attrs:{"vertical-align":"center"}},[a("h3",[e._v(e._s(e.emotion_kana[e.rand])+"でチーズ")])])],1),e._v(" "),a("v-ons-row",[a("v-ons-col",{attrs:{"vertical-align":"center"}},[a("v-ons-button",{attrs:{disabled:!e.videoflg,id:"snap"},on:{click:function(t){e.capture()}}},[e._v("チーズ")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.count>2,expression:"count > 2"}]},[a("h2",[e._v("結果")]),e._v(" "),e._l(e.emotionArr,function(t,n){return a("v-ons-row",{key:n},[a("v-ons-col",{attrs:{"vertical-align":"center"}},[e._v("\n        "+e._s(n+1)+"回目（"+e._s(e.emotion_kana[e.emotionNumArr[n]])+"）： "+e._s(Math.floor(1e3*t[e.emotion[e.emotionNumArr[n]]])/10)+" ％\n      ")])],1)}),e._v(" "),a("v-ons-row",[a("v-ons-col",{attrs:{"vertical-align":"center"}},[a("v-ons-button",{on:{click:function(t){e.retry()}}},[e._v("retry")])],1)],1)],2)])},i=[],s={render:n,staticRenderFns:i};t.a=s},function(e,t,a){"use strict";function n(e){a(29)}var i=a(10),s=a(30),o=a(0),r=n,c=o(i.a,s.a,!1,r,null,null);t.a=c.exports},function(e,t){},function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h2",[e._v("Essential Links")]),e._v(" "),a("video",{ref:"video",attrs:{width:"720px",autoplay:"",playsinline:""}})])},i=[],s={render:n,staticRenderFns:i};t.a=s},function(e,t){},function(e,t){},,,function(e,t,a){"use strict";var n=a(36);Object(n.a)(Object({NODE_ENV:"production"}).BASE_URL+"service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}})}],[11]);
//# sourceMappingURL=app.ad2b5d275337aa3c299b.js.map